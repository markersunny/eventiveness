import{b as t}from"./tslib.es6-CTwnr_FB.js";function n(t,r,e){return new Proxy(new o(t,r,e,n),i)}var r=Symbol();function e(t){return t[r]||t}var i={get:function(t,n){if(n===r)return t;var e=t.get(n,!0);return e.length&&"function"==typeof e[0]?function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return t.call(r,n)}:t.recursive?t.ctor?t.ctor(e,!0,t.context,t.ctor):new o(e,!0,t.context):e},set:function(t,n,r){return t.set(n,r),!0}},o=function(){function n(t,n,r,e){this.many=t,this.recursive=n,this.ctor=e,this.context=r||{}}return n.prototype.get=function(r,e){var i=[],o=this.many.length;if(null!=r)for(var s=0;s<o;s++)i.push(this.many[s][r]);else for(s=0;s<o;s++)i.push(this.many[s]);var h=[i,this.recursive,this.context];return this.recursive&&!e?this.ctor?this.ctor.apply(this,t(t([],h,!1),[this.ctor],!1)):new(n.bind.apply(n,t([void 0],h,!1))):i},n.prototype.set=function(t,n){if(void 0===n)return this.set(t,this.get(t,!0));var r=this.many.length,e=n.length;if(null!=t)for(var i=0;i<r;i++)this.many[i][t]=n[Math.min(i,e-1)];else for(i=0;i<r;i++)this.many[i]=n[Math.min(i,e-1)]},n.prototype.delete=function(t){for(var n=0,r=this.many;n<r.length;n++){delete r[n][t]}},n.prototype.call=function(n,r){var e,i;void 0===n&&(n=[[]]);var o,s,h=[],a=this.many.length,u=n.length;if(void 0!==r)for(var c=0;c<a;c++)o=n[Math.min(c,u-1)]||[],s=(e=this.many[c])[r].apply(e,t(t([],o,!1),[this.context],!1)),h.push(s);else for(c=0;c<a;c++)o=n[Math.min(c,u-1)]||[],s=(i=this.many)[c].apply(i,t(t([],o,!1),[this.context],!1)),h.push(s);return h},n}();export{o as One,n as one,e as unWrap};
